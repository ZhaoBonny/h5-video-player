!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.H5VideoPlayer=o():t.H5VideoPlayer=o()}(this,function(){return function(t){function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}var n={};return o.m=t,o.c=n,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},o.p="",o(o.s=1)}([function(t,o,n){"use strict";function e(t,o){if(1===arguments.length){for(var n=t[0],i=1;i<t.length;i++)n=e(n,t[i]);return n}for(var r in o)if("class"===r){var a=t[r]||[];t[r]=(Array.isArray(a)?a:[a]).concat(o[r]||[])}else if("style"===r){var a=s(t[r]),u=s(o[r]);t[r]=a+u}else t[r]=o[r];return t}function i(t,o){for(var n,e="",i="",r=Array.isArray(o),s=0;s<t.length;s++)(n=a(t[s]))&&(r&&o[s]&&(n=l(n)),e=e+i+n,i=" ");return e}function r(t){var o="",n="";for(var e in t)e&&t[e]&&f.call(t,e)&&(o=o+n+e,n=" ");return o}function a(t,o){return Array.isArray(t)?i(t,o):t&&"object"==typeof t?r(t):t||""}function s(t){if(!t)return"";if("object"==typeof t){var o="";for(var n in t)f.call(t,n)&&(o=o+n+":"+t[n]+";");return o}return t+="",";"!==t[t.length-1]?t+";":t}function u(t,o,n,e){return!1!==o&&null!=o&&(o||"class"!==t&&"style"!==t)?!0===o?" "+(e?t:t+'="'+t+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),n||-1===o.indexOf('"'))?(n&&(o=l(o))," "+t+'="'+o+'"'):" "+t+"='"+o.replace(/'/g,"&#39;")+"'"):""}function c(t,o){var n="";for(var e in t)if(f.call(t,e)){var i=t[e];if("class"===e){i=a(i),n=u(e,i,!1,o)+n;continue}"style"===e&&(i=s(i)),n+=u(e,i,!1,o)}return n}function l(t){var o=""+t,n=h.exec(o);if(!n)return t;var e,i,r,a="";for(e=n.index,i=0;e<o.length;e++){switch(o.charCodeAt(e)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==e&&(a+=o.substring(i,e)),i=e+1,a+=r}return i!==e?a+o.substring(i,e):a}function p(t,o,e,i){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&o||i))throw t.message+=" on line "+e,t;try{i=i||n(3).readFileSync(o,"utf8")}catch(o){p(t,null,e)}var r=3,a=i.split("\n"),s=Math.max(e-r,0),u=Math.min(a.length,e+r),r=a.slice(s,u).map(function(t,o){var n=o+s+1;return(n==e?"  > ":"    ")+n+"| "+t}).join("\n");throw t.path=o,t.message=(o||"Pug")+":"+e+"\n"+r+"\n\n"+t.message,t}var f=Object.prototype.hasOwnProperty;o.merge=e,o.classes=a,o.style=s,o.attr=u,o.attrs=c;var h=/["&<>]/;o.escape=l,o.rethrow=p},function(t,o,n){"use strict";function e(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var i=n(2),r=n.n(i),a=n(4),s=n.n(a),u=function(){function t(o,n){var i=n.context,r=void 0===i?"body":i,a=n.control,s=void 0!==a&&a,u=n.autoPlay,c=void 0!==u&&u,p=n.autoClose,f=void 0===p||p,h=n.orientation,d=void 0===h?"portrait":h,y=n.aspectRatio,v=void 0===y?9/16:y,g=n.hookInPlay,b=void 0===g?function(){}:g,m=n.hookInPause,x=void 0===m?function(){}:m,w=n.hookInStop,k=void 0===w?function(){}:w;e(this,t),this.context=l(r)?document.querySelector(r):r,this.options={source:o,control:s,autoPlay:c,autoClose:f,orientation:d,aspectRatio:v,hookInPlay:b,hookInPause:x,hookInStop:k},this.container=null,this.video=null,this.mask=null,this.playButton=null,this.init()}return t.prototype.init=function(){this.container=document.createElement("div"),c(this.container,{position:"absolute",left:"-100%",top:"-100%",right:"-100%",bottom:"-100%",margin:"auto",width:"100vw",minWidth:100*this.options.aspectRatio+"vh",height:100/this.options.aspectRatio+"vw",minHeight:"100vh",backgroundColor:"black",zIndex:"9999",overflow:"hidden"}),this.container.innerHTML=s()({source:this.options.source,orientation:this.options.orientation}),this.video=this.container.querySelector("video"),c(this.video,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",zIndex:"-1",objectFit:"fill",objectPosition:"50% 50%"}),this.mask=this.container.querySelector("div"),c(this.mask,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",zIndex:"10"}),this.options.control&&(this.playButton=document.createElement("div"),c(this.playButton,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",zIndex:"100",backgroundColor:"rgba(0, 0, 0, .1)"}),this.playButton.innerHTML=r()(),this.container.appendChild(this.playButton))},t.prototype.load=function(){return this.context.contains(this.container)||this.context.appendChild(this.container),this.eventBind(),this.options.autoPlay&&this.play(),this},t.prototype.eventBind=function(){var t=this;this.options.control&&(this.mask.addEventListener("click",function(){t._isPlaying()?t.pause():t.play()}),this.playButton.addEventListener("click",function(){t.play()})),this.video.addEventListener("ended",function(){t._showPlayBtn(),t.options.autoClose&&t._remove(),t.options.hookInStop()})},t.prototype.play=function(){this.video.play(),this._hiddenPlayBtn(),this.options.hookInPlay()},t.prototype.pause=function(){this.video.pause(),this._showPlayBtn(),this.options.hookInPause()},t.prototype._showPlayBtn=function(){this.playButton&&(this.playButton.style.display="block")},t.prototype._hiddenPlayBtn=function(){this.playButton&&(this.playButton.style.display="none")},t.prototype._isPlaying=function(){return this.video.currentTime>0&&!this.video.paused&&!this.video.ended&&this.video.readyState>2},t.prototype._remove=function(){this.context.removeChild(this.container)},t}();o.default=u;var c=function(t,o){for(var n in o)t.style[n]=o[n]},l=function(t){return"string"==typeof t&&t.constructor===String}},function(t,o,n){function e(t){var o="";return o+='<div style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; margin: auto; max-width: 60px;   max-height: 60px; cursor: pointer; opacity: .6;"><svg viewBox="0 0 64 64" style="max-width: 60px; max-height: 60px; fill: #fff;"><path d="M26,45.5L44,32L26,18.6v27V45.5L26,45.5z M32,2C15.4,2,2,15.5,2,32c0,16.6,13.4,30,30,30c16.6,0,30-13.4,30-30 C62,15.4,48.5,2,32,2L32,2z M32,56c-9.7,0-18.5-5.9-22.2-14.8C6.1,32.2,8.1,21.9,15,15c6.9-6.9,17.2-8.9,26.2-5.2 C50.1,13.5,56,22.3,56,32C56,45.3,45.2,56,32,56L32,56z"></path></svg></div>'}n(0),t.exports=e},function(t,o){},function(t,o,n){function e(t){var o="",n=t||{};return function(t,n,e,r,a){o=o+'<video width="100%" preload x-webkit-airplay="allow" webkit-playsinline="true" playsinline x5-video-player-type="h5" x5-video-player-fullscreen="true"'+i.attr("x5-video-orientation",r,!0,!0)+">",a instanceof t?function(){var t=a;if("number"==typeof t.length)for(var n=0,e=t.length;n<e;n++){var r=t[n];o=o+"<source"+(i.attr("src",r.url,!0,!0)+i.attr("type","video/"+r.type,!0,!0))+">"}else{var e=0;for(var n in t){e++;var r=t[n];o=o+"<source"+(i.attr("src",r.url,!0,!0)+i.attr("type","video/"+r.type,!0,!0))+">"}}}.call(this):a instanceof n?o=o+"<source"+(i.attr("src",a.url,!0,!0)+i.attr("type","video/"+a.type,!0,!0))+">":"string"==typeof a&&a.constructor===e&&(o=o+"<source"+i.attr("src",a,!0,!0)+">"),o+="I'm sorry; your browser doesn't support HTML5 video.</video><div></div>"}.call(this,"Array"in n?n.Array:"undefined"!=typeof Array?Array:void 0,"Object"in n?n.Object:"undefined"!=typeof Object?Object:void 0,"String"in n?n.String:"undefined"!=typeof String?String:void 0,"orientation"in n?n.orientation:"undefined"!=typeof orientation?orientation:void 0,"source"in n?n.source:"undefined"!=typeof source?source:void 0),o}var i=n(0);t.exports=e}]).default});
//# sourceMappingURL=H5VideoPlayer.min.js.map