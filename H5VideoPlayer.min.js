!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.H5VideoPlayer=o():t.H5VideoPlayer=o()}(this,function(){return function(t){function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}var e={};return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},o.p="",o(o.s=1)}([function(t,o,e){"use strict";function n(t,o){if(1===arguments.length){for(var e=t[0],i=1;i<t.length;i++)e=n(e,t[i]);return e}for(var r in o)if("class"===r){var a=t[r]||[];t[r]=(Array.isArray(a)?a:[a]).concat(o[r]||[])}else if("style"===r){var a=s(t[r]),u=s(o[r]);t[r]=a+u}else t[r]=o[r];return t}function i(t,o){for(var e,n="",i="",r=Array.isArray(o),s=0;s<t.length;s++)(e=a(t[s]))&&(r&&o[s]&&(e=p(e)),n=n+i+e,i=" ");return n}function r(t){var o="",e="";for(var n in t)n&&t[n]&&h.call(t,n)&&(o=o+e+n,e=" ");return o}function a(t,o){return Array.isArray(t)?i(t,o):t&&"object"==typeof t?r(t):t||""}function s(t){if(!t)return"";if("object"==typeof t){var o="";for(var e in t)h.call(t,e)&&(o=o+e+":"+t[e]+";");return o}return t+="",";"!==t[t.length-1]?t+";":t}function u(t,o,e,n){return!1!==o&&null!=o&&(o||"class"!==t&&"style"!==t)?!0===o?" "+(n?t:t+'="'+t+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),e||-1===o.indexOf('"'))?(e&&(o=p(o))," "+t+'="'+o+'"'):" "+t+"='"+o.replace(/'/g,"&#39;")+"'"):""}function c(t,o){var e="";for(var n in t)if(h.call(t,n)){var i=t[n];if("class"===n){i=a(i),e=u(n,i,!1,o)+e;continue}"style"===n&&(i=s(i)),e+=u(n,i,!1,o)}return e}function p(t){var o=""+t,e=d.exec(o);if(!e)return t;var n,i,r,a="";for(n=e.index,i=0;n<o.length;n++){switch(o.charCodeAt(n)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==n&&(a+=o.substring(i,n)),i=n+1,a+=r}return i!==n?a+o.substring(i,n):a}function l(t,o,n,i){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&o||i))throw t.message+=" on line "+n,t;try{i=i||e(3).readFileSync(o,"utf8")}catch(o){l(t,null,n)}var r=3,a=i.split("\n"),s=Math.max(n-r,0),u=Math.min(a.length,n+r),r=a.slice(s,u).map(function(t,o){var e=o+s+1;return(e==n?"  > ":"    ")+e+"| "+t}).join("\n");throw t.path=o,t.message=(o||"Pug")+":"+n+"\n"+r+"\n\n"+t.message,t}var h=Object.prototype.hasOwnProperty;o.merge=n,o.classes=a,o.style=s,o.attr=u,o.attrs=c;var d=/["&<>]/;o.escape=p,o.rethrow=l},function(t,o,e){"use strict";function n(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var i=e(2),r=e.n(i),a=e(4),s=e.n(a),u=function(){function t(o,e){var i=e.context,r=void 0===i?"body":i,a=e.control,s=void 0!==a&&a,u=e.autoPlay,c=void 0!==u&&u,l=e.autoClose,h=void 0===l||l,d=e.orientation,f=void 0===d?"portrait":d,y=e.aspectRatio,v=void 0===y?9/16:y,g=e.hookInPlay,b=void 0===g?function(){}:g,m=e.hookInPause,w=void 0===m?function(){}:m,x=e.hookInStop,k=void 0===x?function(){}:x;n(this,t),this.context=p(r)?document.querySelector(r):r,this.options={source:o,control:s,autoPlay:c,autoClose:h,orientation:f,aspectRatio:v,hookInPlay:b,hookInPause:w,hookInStop:k},this.container=null,this.wrapper=null,this.video=null,this.mask=null,this.playButton=null,this.init()}return t.prototype.init=function(){this.container=document.createElement("div"),c(this.container,{position:"relative",width:"100%",height:"100%",overflow:"hidden"}),this.initWrapper(),this.container.appendChild(this.wrapper)},t.prototype.initWrapper=function(){this.wrapper=document.createElement("div"),c(this.wrapper,{position:"absolute",left:"-100%",top:"-100%",right:"-100%",bottom:"-100%",margin:"auto",width:"100vw",minWidth:100*this.options.aspectRatio+"vh",height:100/this.options.aspectRatio+"vw",minHeight:"100vh",backgroundColor:"black",zIndex:"9999",overflow:"hidden"}),this.wrapper.innerHTML=s()({source:this.options.source,orientation:this.options.orientation}),this.video=this.wrapper.querySelector("video"),c(this.video,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",zIndex:"-1",objectFit:"fill",objectPosition:"50% 50%"}),this.mask=this.wrapper.querySelector("div"),c(this.mask,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",zIndex:"10"}),this.options.control&&(this.playButton=document.createElement("div"),c(this.playButton,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",zIndex:"100",backgroundColor:"rgba(0, 0, 0, .1)"}),this.playButton.innerHTML=r()(),this.wrapper.appendChild(this.playButton))},t.prototype.load=function(){return this.context.contains(this.container)||this.context.appendChild(this.container),this.eventBind(),this.options.autoPlay&&this.play(),this},t.prototype.eventBind=function(){var t=this;this.options.control&&(this.mask.addEventListener("click",function(){t._isPlaying()?t.pause():t.play()}),this.playButton.addEventListener("click",function(){t.play()})),this.video.addEventListener("ended",function(){t._showPlayBtn(),t.options.autoClose&&t._remove(),t.options.hookInStop()})},t.prototype.play=function(){this.video.play(),this._hiddenPlayBtn(),this.options.hookInPlay()},t.prototype.pause=function(){this.video.pause(),this._showPlayBtn(),this.options.hookInPause()},t.prototype._showPlayBtn=function(){this.playButton&&(this.playButton.style.display="block")},t.prototype._hiddenPlayBtn=function(){this.playButton&&(this.playButton.style.display="none")},t.prototype._isPlaying=function(){return this.video.currentTime>0&&!this.video.paused&&!this.video.ended&&this.video.readyState>2},t.prototype._remove=function(){this.context.removeChild(this.container)},t}();o.default=u;var c=function(t,o){for(var e in o)t.style[e]=o[e]},p=function(t){return"string"==typeof t&&t.constructor===String}},function(t,o,e){function n(t){var o="";return o+='<div style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; margin: auto; max-width: 60px;   max-height: 60px; cursor: pointer; opacity: .6;"><svg viewBox="0 0 64 64" style="max-width: 60px; max-height: 60px; fill: #fff;"><path d="M26,45.5L44,32L26,18.6v27V45.5L26,45.5z M32,2C15.4,2,2,15.5,2,32c0,16.6,13.4,30,30,30c16.6,0,30-13.4,30-30 C62,15.4,48.5,2,32,2L32,2z M32,56c-9.7,0-18.5-5.9-22.2-14.8C6.1,32.2,8.1,21.9,15,15c6.9-6.9,17.2-8.9,26.2-5.2 C50.1,13.5,56,22.3,56,32C56,45.3,45.2,56,32,56L32,56z"></path></svg></div>'}e(0),t.exports=n},function(t,o){},function(t,o,e){function n(t){var o="",e=t||{};return function(t,e,n,r,a){o=o+'<video width="100%" preload x-webkit-airplay="allow" webkit-playsinline="true" playsinline x5-video-player-type="h5" x5-video-player-fullscreen="true"'+i.attr("x5-video-orientation",r,!0,!0)+">",a instanceof t?function(){var t=a;if("number"==typeof t.length)for(var e=0,n=t.length;e<n;e++){var r=t[e];o=o+"<source"+(i.attr("src",r.url,!0,!0)+i.attr("type","video/"+r.type,!0,!0))+">"}else{var n=0;for(var e in t){n++;var r=t[e];o=o+"<source"+(i.attr("src",r.url,!0,!0)+i.attr("type","video/"+r.type,!0,!0))+">"}}}.call(this):a instanceof e?o=o+"<source"+(i.attr("src",a.url,!0,!0)+i.attr("type","video/"+a.type,!0,!0))+">":"string"==typeof a&&a.constructor===n&&(o=o+"<source"+i.attr("src",a,!0,!0)+">"),o+="I'm sorry; your browser doesn't support HTML5 video.</video><div></div>"}.call(this,"Array"in e?e.Array:"undefined"!=typeof Array?Array:void 0,"Object"in e?e.Object:"undefined"!=typeof Object?Object:void 0,"String"in e?e.String:"undefined"!=typeof String?String:void 0,"orientation"in e?e.orientation:"undefined"!=typeof orientation?orientation:void 0,"source"in e?e.source:"undefined"!=typeof source?source:void 0),o}var i=e(0);t.exports=n}]).default});
//# sourceMappingURL=H5VideoPlayer.min.js.map